<div *ngIf="!loading">
  <nb-card>
    <nb-card-header>
      <div class="row">
        <div class="col-md-6">
          <a [routerLink]="'../'+(block.number-1)">
            <nb-icon [icon]="'arrow-back-outline'"></nb-icon>
          </a>
          Block #{{ block.number }}
          <a [routerLink]="'../'+(block.number+1)">
            <nb-icon [icon]="'arrow-forward-outline'"></nb-icon>
          </a>
        </div>
        <div class="col-md-6" style="text-align: right;">
          {{ block.timestamp * 1000 | date : 'short' }}
        </div>
      </div>
    </nb-card-header>
    <nb-list>
      <nb-list-item>
        <div class="col-md-4">
          Age
        </div>
        <div class="col-md-8">
          <ngx-timer [time]="(currentTimestamp-block.timestamp)*1000"></ngx-timer>
        </div>
      </nb-list-item>
      <nb-list-item>
        <div class="col-md-4">
          Mined by
        </div>
        <a class="col-md-8" [routerLink]="'../../address/'+block.miner">
          {{ block.miner }}
        </a>
      </nb-list-item>
      <nb-list-item>
        <div class="col-md-4">
          Gas used
        </div>
        <div class="col-md-8">
          {{ block.gasUsed }}
        </div>
      </nb-list-item>
      <nb-list-item>
        <div class="col-md-4">
          Parent hash
        </div>
        <div class="col-md-8">
          {{ block.parentHash }}
        </div>
      </nb-list-item>
      <nb-list-item>
        <div class="col-md-4">
          Size
        </div>
        <div class="col-md-8">
          {{ block.size }} bytes
        </div>
      </nb-list-item>
    </nb-list>
  </nb-card>
  <nb-card>
    <nb-card-header>Transactions</nb-card-header>
    <nb-list>
      <nb-list-item>
        <div class="col-md-3">
          Hash
        </div>
        <div class="col-md-3 break-dots">
          From
        </div>
        <div class="col-md-1 break-dots">
        </div>
        <div class="col-md-3 break-dots">
          To
        </div>
        <div class="col-md-2" style="text-align: right;">
          Value
        </div>
      </nb-list-item>
      <nb-list-item *ngFor="let tx of block.transactions">
        <a class="col-md-3 break-dots" [routerLink]="'../tx/'+tx.hash">
          {{ tx.hash }}
        </a>
        <a class="col-md-3 break-dots" [routerLink]="'../address/'+tx.from">
          {{ tx.from }}
        </a>
        <div class="col-md-1" style="text-align: center;">
          <nb-icon [icon]="'arrow-forward-outline'"></nb-icon>
        </div>
        <a class="col-md-3 break-dots" [routerLink]="'../address/'+tx.to">
          {{ tx.to }}
        </a>
        <div class="col-md-2" style="text-align: right;">
          {{ tx.value | number }} ETP
        </div>

      </nb-list-item>
    </nb-list>
  </nb-card>
</div>
